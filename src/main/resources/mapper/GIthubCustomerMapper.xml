<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.threeDays.dao.GithubCustomerMapper">
    <resultMap type="com.threeDays.POJO.GithubCustomer" id="GitCustomerMap">
        <id property="id" column="id" javaType="java.math.BigInteger"/>
        <result property="accountId" column="accountId" javaType="java.lang.String"/>
        <result property="name" column="git_name" javaType="java.lang.String"/>
        <result property="token" column="token" javaType="java.lang.String"/>
    </resultMap>
    <insert id="addGithubCustomer" parameterType="com.threeDays.POJO.GithubCustomer"  useGeneratedKeys="true"
            keyProperty="id">
        insert into gitcustomer (accountId, git_name, token)
        values (#{accountId}, #{name}, #{token})
    </insert>
    <select id="findByToken" resultMap="GitCustomerMap">
        select *
        from gitcustomer
        where token = #{token}
    </select>
</mapper>